<div class="mx-auto col-7 mt-4">
    {{#if err}}
        <div class="alert alert-danger alert-dismissible fade show text-center my-3" role="alert">
            <div class="mx-auto">
                {{err}}
            </div>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    {{/if}}
    <h2 class="text-center">Edit Profile</h2>
    <form action="/edit/u" method="POST">
        <div class="row mt-2">
            <div class="col-4">
                <label for="creatorId" class="mx-auto">Creator Id</label>
                <div class="input-group mx-auto">
                    <div class="input-group-prepend">
                        <span class="input-group-text">MA-</span>
                    </div>
                    <input type="text" class="form-control force-upper" placeholder="0123-4567-8901" id="creatorId"
                        name="creatorId" onkeyup="addHyphens(this)" maxlength="14" value="{{form.creatorId}}">
                </div>
            </div>
            <div class="col-4">
                <label for="name" class="mx-auto">Your Name</label>
                <input type="text" class="form-control" placeholder="Flapjack" id="name" name="name"
                    value="{{form.name}}">
            </div>
            <div class="col-4">
                <label for="islandName" class="mx-auto">Island Name</label>
                <input type="text" class="form-control" placeholder="Candy Island" id="islandName"
                    name="islandName" value="{{form.islandName}}">
            </div>
        </div>

        <div class="row mt-2">
            <div class="col-6">
                <label for="discord" class="mx-auto">Discord</label>
                <input type="text" class="form-control" placeholder="Raymond#1234" id="discord"
                    name="discord" value="{{form.discord}}">
            </div>
            <div class="col-6">
                <label for="twitter" class="mx-auto">Twitter</label>
                <input type="text" class="form-control" placeholder="@animalcrossing" id="twitter"
                    name="twitter" value="{{form.twitter}}">
            </div>
        </div>

        <div class="row mt-2">
            <div class="col">
                <label for="bio" class="mx-auto">Bio</label>
                <textarea name="bio" id="bio" placeholder="Tell us about yourself!"
                    class="form-control" rows="2" maxlength="256">{{form.bio}}</textarea>
            </div>
        </div>

        <div class="col mt-4">
            <div class="row">
                <a class="btn btn-danger" href="/">Back</a>
                <input class="btn btn-success ml-auto" type="submit" value="Update Profile!">
            </div>
        </div>
    </form>
</div>

<script>
    function addHyphens (input) {
        let creatorId = document.getElementById(input.id);
        creatorId = creatorId.value.split('-').join('');
        document.getElementById(input.id).value = creatorId.match(/.{1,4}/g).join('-');
    }
</script>
